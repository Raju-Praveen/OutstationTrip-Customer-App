#:import Window kivy.core.window.Window
#:import dp kivy.metrics.dp
#:import toast kivymd.toast.toast


<SignInScreen>
    md_bg_color : 1, 1, 1, 1

    Image:
        id : ot_icon
        source : "ot_icon.png"
        size_hint : None, None
        size : dp(50), dp(50)
        pos_hint : {"center_x":0.5}
        top : Window.height - dp(50)
        allow_stretch : True
        keep_ratio : False
    
    MDBoxLayout:
        id : ot_label_container
        size_hint : None, None
        size : dp(300), dp(30)
        pos_hint : {"center_x":0.5}
        top : ot_icon.y - dp(5)
        MDLabel:
            text : "OUTSTATION TRIP"
            bold : True
            font_style : "Subtitle1"
            color : 17/255, 32/255, 115/255, 1
            halign : "center"
            pos_hint : {"center_y":0.5}

    
    MDBoxLayout:
        id : signin_widget_container
        size_hint : None, None
        size : dp(280), dp(150)
        pos_hint : {"center_x":0.5, "center_y":0.5}
        orientation : "vertical"
        MDLabel:
            text : "Signin"
            font_style : "Subtitle1"
            bold : True
            halign : "left"
            pos_hint : {"center_y":0.9}
        MDTextField:
            id : mobile_no_input
            hint_text : "mobile"
            padding : 0, 20, 0, 0
            multiline : False
            input_type : "number"
            input_filter : "float"
            line_color_normal : 0.7, 0.7, 0.7, 0.7
            line_color_focus : 0, 0, 0, 1
        MDTextField:
            id : password_input
            hint_text : "password"
            multiline : False
            line_color_normal : 0.7, 0.7, 0.7, 0.7
            line_color_focus : 0, 0, 0, 1
            password : True
            mask : "*"
        LoginButton:
            id : login_btn
            size_hint : None, None
            size : dp(280), dp(40)
            pos_hint : {"center_x":0.5, "center_y":0.5}
            on_release:
                toast("Click")
            canvas:
                Color:
                    rgba : 1, 1, 0, 1
                RoundedRectangle:
                    size : self.size
                    pos : self.pos
                    radius : [6, ]
            MDLabel:
                text : "LOGIN"
                bold : True
                color : 0, 0, 0, 1
                font_style : "Subtitle1"
                halign : "center"
                pos_hint : {"center_x":0.5, "center_y":0.5}

    
    MDBoxLayout:
        id : google_signin_container
        size_hint : None, None
        size : dp(200), dp(100)
        pos_hint : {"center_x":0.5}
        top : signin_widget_container.y -dp(5)
        orientation : "vertical"
        MDLabel:
            text : "or sign in with"
            color : 0, 0, 0, 1
            halign : "center"
            pos_hint : {"center_x":0.5, "center_y":0.5}
            font_style : "Subtitle1"
            height : self.texture_size[1]
        GoogleButton:
            id : google_btn
            source : "google-logo.png"
            size_hint : None, None
            size : dp(45), dp(45)
            pos_hint : {"center_x":0.5, "center_y":0.5}
            allow_stretch : True
            keep_ratio : False
            on_release:
                toast("Google")

    MDFloatLayout:
        id : create_forgot_container
        size_hint : None, None
        size : dp(300), dp(30)
        y : dp(10)
        pos_hint : {"center_x":0.5}
        ForgotPassword:
            text : "Forgot Password?"
            color : 0, 0, 1, 1
            font_style : "Subtitle2"
            pos_hint : {"x":0.01}
            on_release:
                root.change_screen("forgot_password_screen")
        CreateAccount:
            text : "Don't hava a account?"
            color : 0, 0, 1, 1
            font_style : "Subtitle2"
            pos_hint : {"x":0.55}
            on_release:
                root.change_screen("signup_screen")
